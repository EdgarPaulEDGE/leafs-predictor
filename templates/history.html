{% extends "base.html" %}

{% block content %}
<div class="hero">
    <h1>This Day in NHL History</h1>
    <p>{{ today }}</p>
</div>

<!-- Games on this date in previous years -->
<div class="card">
    <div class="section-header">
        <h2>Games Played on {{ today }}</h2>
        <span class="count">{{ games|length }} games</span>
    </div>

    {% if games %}
    <div class="history-games">
        {% for game in games %}
        <div class="history-game-row">
            <span class="history-year">{{ game.year }}</span>
            <div class="history-matchup">
                <span class="history-team">
                    <img src="https://assets.nhle.com/logos/nhl/svg/{{ game.away }}_dark.svg" class="team-logo-xs" loading="lazy">
                    {{ game.away }}
                </span>
                <span class="history-score">{{ game.away_score }} - {{ game.home_score }}</span>
                <span class="history-team">
                    <img src="https://assets.nhle.com/logos/nhl/svg/{{ game.home }}_dark.svg" class="team-logo-xs" loading="lazy">
                    {{ game.home }}
                </span>
            </div>
            <span class="history-venue">{{ game.venue }}</span>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-data">No games found for this date.</p>
    {% endif %}
</div>

<!-- Player Birthdays -->
{% if birthdays %}
<div class="card">
    <div class="section-header">
        <h2>NHL Players Born on {{ today }}</h2>
    </div>

    <div class="birthdays-list">
        {% for player in birthdays %}
        <div class="birthday-row">
            <span class="birthday-name">{{ player.name }}</span>
            <span class="birthday-year">Born {{ player.year }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- NHL All-Time Records (real data) -->
<div class="card">
    <div class="section-header">
        <h2>NHL All-Time Leaders</h2>
    </div>

    <div class="records-grid">
        <div class="record-card">
            <div class="record-title">Most Career Points</div>
            <div class="record-holder">Wayne Gretzky</div>
            <div class="record-value">2,857</div>
        </div>
        <div class="record-card">
            <div class="record-title">Most Career Goals</div>
            <div class="record-holder">Wayne Gretzky</div>
            <div class="record-value">894</div>
        </div>
        <div class="record-card">
            <div class="record-title">Most Career Assists</div>
            <div class="record-holder">Wayne Gretzky</div>
            <div class="record-value">1,963</div>
        </div>
        <div class="record-card">
            <div class="record-title">Most Career Games</div>
            <div class="record-holder">Gordie Howe</div>
            <div class="record-value">1,767</div>
        </div>
        <div class="record-card">
            <div class="record-title">Most Career Wins (G)</div>
            <div class="record-holder">Martin Brodeur</div>
            <div class="record-value">691</div>
        </div>
        <div class="record-card">
            <div class="record-title">Most Career Shutouts</div>
            <div class="record-holder">Martin Brodeur</div>
            <div class="record-value">125</div>
        </div>
    </div>
</div>

<style>
.history-games {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}
.history-game-row {
    display: grid;
    grid-template-columns: 60px 1fr auto;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
}
.history-year {
    font-weight: 700;
    color: var(--cyan);
    font-size: 1.1rem;
}
.history-matchup {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.history-team {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-weight: 500;
}
.history-score {
    font-weight: 700;
    color: var(--text-primary);
    padding: 0.25rem 0.75rem;
    background: rgba(0, 229, 255, 0.1);
    border-radius: 6px;
}
.history-venue {
    color: var(--text-secondary);
    font-size: 0.85rem;
    text-align: right;
}
.team-logo-xs {
    height: 24px;
    width: 24px;
}
.birthdays-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 0.75rem;
}
.birthday-row {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 6px;
}
.birthday-name {
    font-weight: 500;
    color: var(--text-primary);
}
.birthday-year {
    color: var(--text-secondary);
    font-size: 0.85rem;
}
.records-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 1rem;
}
.record-card {
    background: rgba(255, 255, 255, 0.03);
    padding: 1rem;
    border-radius: 10px;
    text-align: center;
}
.record-title {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}
.record-holder {
    font-weight: 600;
    color: var(--text-primary);
}
.record-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--cyan);
    margin-top: 0.25rem;
}
.no-data {
    color: var(--text-secondary);
    text-align: center;
    padding: 2rem;
}
@media (max-width: 768px) {
    .history-game-row {
        grid-template-columns: 1fr;
        text-align: center;
    }
    .history-venue {
        text-align: center;
    }
}
</style>
{% endblock %}
